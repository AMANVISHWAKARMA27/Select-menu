<!DOCTYPE html>
<html>
  <head>
    <style>
      table {
        width: 80%;
        margin: 20px auto;
        border-collapse: collapse;
      }

      table,
      th,
      td {
        border: 1px solid #ccc;
      }

      th,
      td {
        padding: 8px;
        text-align: left;
        background-color: antiquewhite;
      }

      button {
        padding: 5px 10px;
        align-items: center;
        border-radius: 10px;
        border: 1px transparent;
        background-color: cornflowerblue;
        height: 30px;
      }

      #add-row {
        display: block;
        margin: 20px auto;
      }

      input.enter {
        height: 35px;
        width: 500px;
        background-color: antiquewhite;
        border-radius: 10px;
      }
      label {
        width: 60px;
        background-color: blue;
        color: aliceblue;
        padding: 10px;
        border-radius: 10px;
      }
      .search {
        display: flex;
        justify-content: space-around;
        align-items: center;
      }
      select {
        background-color: red;
        height: 30px;
        width: 200px;
        border-radius: 10px;
        color: aliceblue;
      }
      .select {
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <h1>DYNAMIC-TABLE</h1>
    <button onclick="addRow()" class="btn btn-primary">Add Row</button>

    <div class="search">
      <nav>
        <label for="search"><strong>Search</strong></label>
        <input
          class="enter"
          type="text"
          for="search"
          placeholder="Enter name, age or enrollment no."
        />
      </nav>
    </div>

    <table id="dynamic-table" class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>S No.</th>
          <th>Name</th>
          <th>Age</th>
          <th>Enrollment No.</th>
          <th>Fee</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <!-- Initially, no rows in the table -->
      </tbody>
    </table>
    <br />
    <div class="select">
      <nav>
        <select name="download" id="download">
          <option value="Download Action">Download Action</option>
          <option value="Download PDF"><button>Download PDF</button></option>
          <option value="Download Excel">
            <button>Download Excel</button>
          </option>
        </select>
      </nav>
    </div>

    <script>
      let serialNumber = 1;

      function addRow() {
        const table = document
          .getElementById("dynamic-table")
          .getElementsByTagName("tbody")[0];
        const newRow = table.insertRow(table.rows.length);
        const cell1 = newRow.insertCell(0);
        const cell2 = newRow.insertCell(1);
        const cell3 = newRow.insertCell(2);
        const cell4 = newRow.insertCell(3);
        const cell5 = newRow.insertCell(4);
        const cell6 = newRow.insertCell(5);

        cell1.innerHTML = serialNumber++;
        cell2.innerHTML = '<input type="text" class="form-control" />';
        cell3.innerHTML = '<input type="text" class="form-control" />';
        cell4.innerHTML = '<input type="text" class="form-control" />';
        cell5.innerHTML = '<input type="text" class="form-control" />';
        cell6.innerHTML = `
            <button onclick="toggleEnableDisable(this)" class="btn btn-success" style="background-color: green;color:white" >Enable</button>
            <button onclick="deleteRow(this)" class="btn btn-delete" style="background-color: red;color:white" >Delete</button>`;

        newRow.setAttribute("data-enabled", "true");
      }

      function toggleEnableDisable(button) {
        const parentRow = button.parentNode.parentNode;
        const isEnabled = parentRow.getAttribute("data-enabled") === "true";
        const inputFields = parentRow.querySelectorAll("input");

        if (isEnabled) {
          button.innerHTML = "Enable";
          button.classList.remove("btn-disable");
          parentRow.setAttribute("data-enabled", "false");
          inputFields.forEach((field) => (field.disabled = true));
        } else {
          button.innerHTML = "Disable";
          button.classList.add("btn-disable");
          parentRow.setAttribute("data-enabled", "true");
          inputFields.forEach((field) => (field.disabled = false));
        }
      }

      function deleteRow(button) {
        const parentRow = button.parentNode.parentNode;
        parentRow.parentNode.removeChild(parentRow);
      }
    </script>
  </body>
</html>
